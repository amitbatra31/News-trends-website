(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{107:function(e,t,a){e.exports=a(203)},189:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(15),i=a.n(l),s=(a(51),a(10)),c=a(11),o=a(13),d=a(12),m=a(6),u=a(14),h=a(215),g=a(214),p=(a(112),a(7)),b=a(26),f=a(48),E=a(63),k=a.n(E),v=a(64),y=a.n(v),N=a(29),w=a(18),S=a.n(w),O=a(34),j=(a(86),a(52)),C=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null," ",this.props.description," ")}}]),t}(n.Component),T=a(92),x=a.n(T),_=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.removeCommentBox=x()("5649746060378112-proj")}},{key:"componentWillUnmount",value:function(){this.removeCommentBox()}},{key:"render",value:function(){return r.a.createElement("div",{className:"commentbox",style:{margin:"0 auto",width:"95%"}})}}]),t}(r.a.Component),I=a(93),L=a.n(I),R=a(94),Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={opened:!1},a.myRef=r.a.createRef(),a.toggleBox=a.toggleBox.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"scroll",value:function(e){e.current.scrollIntoView({behavior:"smooth"})}},{key:"toggleBox",value:function(){var e=this.state.opened;this.setState({opened:!e})}},{key:"render",value:function(){var e=this,t=this.props.children,a=this.state.opened,n=L()(t),l=n.indexOf("="),i=(n=(n=n.substring(l+2)).substring(0,n.length-4)).replace(/([.?!])\s*(?=[A-Z])/g,"$1| ").split("|"),s=i.slice(0,4);return r.a.createElement("div",{className:"box"},a?r.a.createElement("div",null,r.a.createElement("div",{class:"boxContent",ref:this.myRef},t),r.a.createElement("div",null,r.a.createElement(R.ScrollTo,null,(function(t){var a=t.scroll;return r.a.createElement(O.c,{className:"boxTitle",onClick:function(){a({x:0,y:0,smooth:!0}),e.toggleBox()}})})))):i.length<=4?r.a.createElement("div",null,r.a.createElement("div",{class:"boxContent"},t)):r.a.createElement("div",null,r.a.createElement("div",{class:"boxContent",ref:this.myRef},s)," ",r.a.createElement(O.b,{className:"boxTitle",onClick:function(){e.scroll(e.myRef),e.toggleBox()}})))}}]),t}(r.a.Component),B=a(95),G=a.n(B),A=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(G.a,{size:40,color:"#123ABC"}),r.a.createElement("br",null),r.a.createElement("h4",null,r.a.createElement("b",null,"Loading")))}}]),t}(r.a.Component),D=a(208),P=a(209),U=a(210),z=a(211),J=a(212),M=a(213),H=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.webUrl,a=e.title;return r.a.createElement("div",null,r.a.createElement(D.a,{url:t,"data-effect":"solid","data-tip":"Facebook"},r.a.createElement(P.a,{size:28,round:!0})),r.a.createElement(U.a,{url:t,"data-tip":"Twitter","data-effect":"solid"},r.a.createElement(z.a,{size:28,round:!0})),r.a.createElement(J.a,{url:t,"data-tip":"Email","data-effect":"solid",title:a},r.a.createElement(M.a,{size:28,round:!0})))}}]),t}(r.a.Component),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).notify=function(e){N.c.dismiss(),Object(N.c)(e,{delay:180,autoClose:2200,className:Object(j.css)({background:"white !important",color:"black",textAlign:"left",fontSize:"15px"})})},a.state={g_results:[],n_results:[],isLoading:!1,error:null,bookmarked:!1},a.bookmarkItem=a.bookmarkItem.bind(Object(m.a)(a)),a.deleteBookmarkItem=a.deleteBookmarkItem.bind(Object(m.a)(a)),a.checkBookmarked=a.checkBookmarked.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"bookmarkItem",value:function(e){this.setState({bookmarked:!this.state.bookmarked});var t,a={category:this.props.category,obj:e,sectionId:this.props.sectionId};localStorage&&((t=localStorage.articles?JSON.parse(localStorage.articles):[])instanceof Array||(t=[]),t.push(a),localStorage.setItem("articles",JSON.stringify(t)))}},{key:"checkBookmarked",value:function(e){var t={category:this.props.category,obj:e,sectionId:this.props.sectionId};if(localStorage){var a;a=localStorage.articles?JSON.parse(localStorage.articles):[];for(var n=!1,r=t.category,l=0;l<a.length;l++)a[l].category==r&&"NYT"==r?a[l].obj.docs[0].web_url==t.obj.docs[0].web_url&&(n=!0):a[l].category==r&&"guardian"==r&&a[l].obj.content.id==t.obj.content.id&&(n=!0);1==n&&this.setState({bookmarked:!0})}}},{key:"deleteBookmarkItem",value:function(){var e;(this.setState({bookmarked:!this.state.bookmarked}),localStorage)&&((e=localStorage.articles?JSON.parse(localStorage.articles):[])instanceof Array||(e=[]),e.splice(e.length-1,1),localStorage.setItem("articles",JSON.stringify(e)));this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),S.a.post("https://usc6352156.wl.r.appspot.com/detailed-nyt",{id:this.props.id}).then((function(t){e.setState({n_results:t.data.response,isLoading:!1}),e.checkBookmarked(e.state.n_results)})).catch((function(t){return e.setState({error:t,isLoading:!1})})),S.a.post("https://usc6352156.wl.r.appspot.com/detailed-guardian",{id:this.props.id}).then((function(t){e.setState({g_results:t.data.response,isLoading:!1}),e.checkBookmarked(e.state.g_results)})).catch((function(t){return e.setState({error:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this,t={margin:"0 auto",width:"100%",height:"70%",padding:"5px"},a=this.state,n=a.g_results,l=a.n_results,i=a.isLoading;if("guardian"==this.props.category){var s=[];if(0!=Object.keys(n).length)if(void 0!==n.content.blocks.main){var c,o=n.content.blocks.main.elements[0].assets,d=o.length,m=n.content.blocks.body[0].bodyTextSummary,u=n.content.webPublicationDate.substring(0,10),h=n.content.webUrl;c=0==d?"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png":o[d-1].file,s.push(r.a.createElement("div",{className:"container-detailed ",key:"0"},r.a.createElement("p",{className:"detailed-title"},r.a.createElement("i",null,n.content.webTitle)),r.a.createElement("div",{className:"fluid-container"},r.a.createElement("div",{class:"row "},r.a.createElement("p",{className:"detailed-date col-lg-10 col-5"},r.a.createElement("i",null,u)),r.a.createElement("div",{className:"col-lg-1 col-5 "},r.a.createElement(H,{title:n.content.webTitle,webUrl:h})),r.a.createElement("div",{className:" col-lg-1 col-2"},this.state.bookmarked?r.a.createElement(O.a,{className:"bookmark1 ","data-tip":"Bookmark","data-effect":"solid",onClick:function(){e.deleteBookmarkItem(),e.notify("Deleting "+n.content.webTitle)}}):r.a.createElement(O.d,{className:"bookmark1","data-tip":"Bookmark","data-effect":"solid",onClick:function(){e.bookmarkItem(n),e.notify("Saving "+n.content.webTitle)}})))),r.a.createElement(f.a,{place:"top","data-effect":"solid"}),r.a.createElement("img",{src:c,className:"container__image",style:t}),r.a.createElement("div",{className:"container-detailed__text"},r.a.createElement("p",{className:"detailed-description"},r.a.createElement(Y,null,r.a.createElement(C,{description:m}))))))}return i?r.a.createElement(A,null):r.a.createElement("div",null,r.a.createElement("div",{className:"guardian-news"},s),r.a.createElement(_,null))}var g=[];if(0!=Object.keys(l).length){h=l.docs[0].web_url;var p=l.docs[0].multimedia;c=0!=Object.keys(p).length?"https://www.nytimes.com/"+l.docs[0].multimedia[0].url:"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg",g.push(r.a.createElement("div",{className:"container-detailed",key:"0"},r.a.createElement("p",{className:"detailed-title"},r.a.createElement("i",null,l.docs[0].headline.main)),r.a.createElement("div",{className:"fluid-container"},r.a.createElement("div",{class:"row "},r.a.createElement("p",{className:"detailed-date col-lg-10 col-5"},r.a.createElement("i",null,l.docs[0].pub_date.substring(0,10))),r.a.createElement("div",{className:"col-lg-1 col-5"},r.a.createElement(H,{webUrl:h,title:l.docs[0].headline.main})),r.a.createElement("div",{className:" col-lg-1 col-2"},this.state.bookmarked?r.a.createElement(O.a,{className:"bookmark1","data-tip":"Bookmark","data-effect":"solid",onClick:function(){e.deleteBookmarkItem(),e.notify("Deleting "+l.docs[0].headline.main)}}):r.a.createElement(O.d,{className:"bookmark1","data-tip":"Bookmark","data-effect":"solid",onClick:function(){e.bookmarkItem(l),e.notify("Saving "+l.docs[0].headline.main)}})))),r.a.createElement("img",{src:c,className:"container__image",style:t}),r.a.createElement("div",{className:"container-detailed__text"},r.a.createElement("p",{className:"detailed-description"},r.a.createElement(Y,null,r.a.createElement(C,{description:l.docs[0].abstract}))))))}return i?r.a.createElement(A,null):r.a.createElement("div",null,r.a.createElement("div",{className:"guardian-news"},g),r.a.createElement(f.a,{place:"top"}),r.a.createElement(_,null))}}]),t}(n.Component),q=a(105),F=a(96),K=a(97),V=a.n(K),$=a(45),Z=function(e){var t=Object(n.useState)(!1),a=Object(q.a)(t,2),l=a[0],i=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.Icon,{icon:V.a,className:"icon",onClick:function(e){i(!0),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}}),r.a.createElement("div",{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},r.a.createElement($.a,{show:l,onHide:function(){i(!1)},dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title"},r.a.createElement($.a.Header,{closeButton:!0},"GUARDIAN"==e.category||"NYTimes"==e.category?r.a.createElement($.a.Title,{id:"example-custom-modal-styling-title",className:"titleShare"},e.category,r.a.createElement("br",null),e.title):r.a.createElement($.a.Title,{id:"example-custom-modal-styling-title",className:"titleShare"},e.title)),r.a.createElement($.a.Body,null,r.a.createElement("p",{className:"share"},"Share via"),r.a.createElement("p",{className:"social"},r.a.createElement(D.a,{url:e.url,className:"fb",hashtag:"#CSCI_571_NewsApp"},r.a.createElement(P.a,{size:56,round:!0})),r.a.createElement(U.a,{url:e.url,className:"twit",hashtags:["CSCI_571_NewsApp"]},r.a.createElement(z.a,{size:56,round:!0})),r.a.createElement(J.a,{url:e.url,title:e.title,className:"email",subject:"#CSCI_571_NewsApp"},r.a.createElement(M.a,{size:56,round:!0})))))))},Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={g_results:[],n_results:[],isLoading:!1,error:null,showComponent:!1,showCards:!0},a.linkToGuardianNews=a.linkToGuardianNews.bind(Object(m.a)(a)),a.linkToNYTNews=a.linkToNYTNews.bind(Object(m.a)(a)),a.renderGuardian=a.renderGuardian.bind(Object(m.a)(a)),a.renderNYT=a.renderNYT.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"linkToGuardianNews",value:function(e){localStorage.setItem("id",e),this.setState({showComponent:!0,showCards:!1})}},{key:"linkToNYTNews",value:function(e,t){localStorage.setItem("id",e),localStorage.setItem("sectionId",t),this.setState({showComponent:!0,showCards:!1})}},{key:"renderGuardian",value:function(e){var t=localStorage.getItem("id");if(this.props.func(!1),this.state.showComponent)return r.a.createElement(p.a,null,r.a.createElement(b.a,{to:"/article/"+t,href:"/article"}),r.a.createElement(b.b,{path:"/article",render:function(){return r.a.createElement(W,{id:t,category:e})}}))}},{key:"renderNYT",value:function(e){var t=localStorage.getItem("id"),a=localStorage.getItem("sectionId");if(this.props.func(!1),this.state.showComponent)return r.a.createElement(p.a,null,r.a.createElement(b.a,{to:"/article/"+t,href:"/article"}),r.a.createElement(b.b,{path:"/article",render:function(){return r.a.createElement(W,{id:t,sectionId:a,category:e})}}))}},{key:"componentDidMount",value:function(){var e=this;this.props.func(!0),this.setState({isLoading:!0}),"home"==this.props.category_type?(S.a.get("https://usc6352156.wl.r.appspot.com/nyc-home",{}).then((function(t){return e.setState({n_results:t.data.results,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})})),S.a.get("http://localhost:4000/guardian-home",{}).then((function(t){return e.setState({g_results:t.data.response.results,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})}))):(S.a.get("https://usc6352156.wl.r.appspot.com/"+this.props.category_type+"-nyt",{}).then((function(t){return e.setState({n_results:t.data.results,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})})),S.a.get("http://localhost:4000/"+this.props.category_type+"-guardian",{}).then((function(t){return e.setState({g_results:t.data.response.results,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})})))}},{key:"render",value:function(){var e=this.state,t=e.g_results,a=e.n_results,n=e.isLoading;function l(e){return"sport"==e||"sports"==e?"rgb(243,191,78)":"business"==e?"rgb(80,157,234)":"technology"==e?"rgb(206,220,75)":"politics"==e?"rgb(63,148,137)":"world"==e?"rgb(124,79,251)":"rgb(110,117,124)"}function i(e){return"technology"==e||"sport"==e||"sports"==e?{fontSize:"14px",backgroundColor:m,textAlign:"center",float:"right",color:"black",borderRadius:"5px"}:{fontSize:"14px",backgroundColor:m,textAlign:"center",float:"right",color:"white",borderRadius:"5px"}}var s={width:"100%",height:"100%",borderRadius:"5px",padding:"5px",backgroundColor:"white",margin:"0 auto",boxShadow:"0 0 5px 0 #C6C4C4"};if("guardian"==this.props.category){for(var c=[],o=0,d=0;d<t.length&&10!=o;d++){var m=l(w=t[d].sectionId),u=i(w);if(void 0!==t[d].blocks.main){o++;var h,g=t[d].blocks.main.elements[0].assets,p=g.length,b=t[d].blocks.body[0].bodyTextSummary.split(" ").slice(0,100).join(" ");w=w.toUpperCase();var f=t[d].webPublicationDate.substring(0,10),E=t[d].webUrl,k=t[d].id;h=0==p?"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png":g[p-1].file,c.push(r.a.createElement("div",{className:"fluid-container containerer",key:d,onClick:function(e){return function(){this.linkToGuardianNews(e)}.bind(this)}.bind(this)(k)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 col-12  padder"},r.a.createElement("img",{src:h,style:s})),r.a.createElement("div",{className:"col-lg-9 col-12 "},r.a.createElement("div",{className:"container__text"},r.a.createElement("p",{className:"title"},r.a.createElement("b",null,r.a.createElement("i",null,t[d].webTitle)),r.a.createElement(Z,{title:t[d].webTitle,url:E})),r.a.createElement("p",{className:"description"},b),r.a.createElement("p",{className:"date "},r.a.createElement("i",null,f)),r.a.createElement("span",{className:"badge badge-pill badge-primary ",style:u},r.a.createElement("b",null,w)))))))}}return n?r.a.createElement(A,null):this.state.showCards?r.a.createElement("div",null,r.a.createElement("div",{className:"guardian-news"},c)):r.a.createElement("div",null,this.renderGuardian("guardian"))}var v=[],y={width:"100%"};for(o=0,d=0;d<a.length&&10!=o;d++){var N,w=a[d].section;E=a[d].url;N=null!=a[d].multimedia?a[d].multimedia[0].url:"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg";m=l(w);o++;u=i(w);w=w.toUpperCase();var S=a[d].published_date.substring(0,10);v.push(r.a.createElement("div",{className:"fluid-container container",key:d,onClick:function(e,t){return function(){this.linkToNYTNews(e,t)}.bind(this)}.bind(this)(E,w)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-3 col-12  padder"},r.a.createElement("img",{src:N,style:s})),r.a.createElement("div",{class:"col-lg-9 col-12 "},r.a.createElement("div",{className:"container__text",style:y},r.a.createElement("p",{className:"title"},r.a.createElement("b",null,r.a.createElement("i",null,a[d].title)),r.a.createElement(Z,{url:E,title:a[d].title})),r.a.createElement("p",{className:"description"},a[d].abstract),r.a.createElement("p",{className:"date"},r.a.createElement("i",null,S)),r.a.createElement("span",{className:"badge badge-pill badge-primary",style:u},r.a.createElement("b",null,w)))))))}return n?r.a.createElement(A,null):this.state.showCards?r.a.createElement("div",null,r.a.createElement("div",{className:"nyt-news"},v)):r.a.createElement("div",null,this.renderNYT("NYT"))}}]),t}(n.Component),X=a(68),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).notify=function(e){N.c.dismiss(),Object(N.c)("Removing "+e,{delay:180,autoClose:2200,className:Object(j.css)({background:"white !important",color:"black",textAlign:"left",fontSize:"15px"})})},a.state={isLoading:!0,showComponent:!1,showCards:!0,category:"guardian",n_results:[]},a.deleteBookmark=a.deleteBookmark.bind(Object(m.a)(a)),a.linkToGuardian=a.linkToGuardian.bind(Object(m.a)(a)),a.linkToNYT=a.linkToNYT.bind(Object(m.a)(a)),a.renderGuardian=a.renderGuardian.bind(Object(m.a)(a)),a.renderNYT=a.renderNYT.bind(Object(m.a)(a)),a.rendering=a.rendering.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"linkToGuardian",value:function(e,t){localStorage.setItem("id",e),this.setState({showComponent:!0,showCards:!1,category:t})}},{key:"linkToNYT",value:function(e,t,a){localStorage.setItem("id",e),localStorage.setItem("sectionId",t),this.setState({showComponent:!0,showCards:!1,category:a})}},{key:"renderGuardian",value:function(e){var t=localStorage.getItem("id");if(this.state.showComponent)return r.a.createElement(p.a,null,r.a.createElement(b.a,{to:"/article/"+t,href:"/article"}),r.a.createElement(b.b,{path:"/article",render:function(){return r.a.createElement(W,{id:t,category:e})}}))}},{key:"renderNYT",value:function(e){var t=localStorage.getItem("id"),a=localStorage.getItem("sectionId");if(this.state.showComponent)return r.a.createElement(p.a,null,r.a.createElement(b.a,{to:"/article/"+t,href:"/article"}),r.a.createElement(b.b,{path:"/article",render:function(){return r.a.createElement(W,{id:t,sectionId:a,category:e})}}))}},{key:"componentDidMount",value:function(){this.props.func(!1)}},{key:"rendering",value:function(){return"guardian"===this.state.category?this.renderGuardian("guardian"):this.renderNYT("NYT")}},{key:"deleteBookmark",value:function(e,t){var a;(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),localStorage)&&((a=localStorage.articles?JSON.parse(localStorage.articles):[])instanceof Array||(a=[]),a.splice(t,1),localStorage.setItem("articles",JSON.stringify(a)));this.forceUpdate()}},{key:"render",value:function(){var e=localStorage.getItem("articles"),t=JSON.parse(e);function a(e){return"sport"===e||"SPORTS"===e?"rgb(243,191,78)":"business"===e||"BUSINESS"===e?"rgb(80,157,234)":"technology"==e||"TECHNOLOGY"===e?"rgb(206,220,75)":"politics"===e||"POLITICS"===e?"rgb(63,148,137)":"world"===e||"WORLD"===e?"rgb(124,79,251)":"rgb(110,117,124)"}function n(e){return"technology"==e||"sport"==e||"TECHNOLOGY"==e||"SPORTS"==e?{paddingRight:"2%",paddingLeft:"2%",fontSize:"12px",backgroundColor:p,marginRight:"10px",textAlign:"center",float:"left",marginLeft:"12%",color:"black",borderRadius:"5px"}:{paddingRight:"2%",paddingLeft:"2%",fontSize:"12px",backgroundColor:p,marginRight:"10px",textAlign:"center",float:"left",marginLeft:"12%",color:"white",borderRadius:"5px"}}var l={margin:"0 auto",padding:"10px",width:"90%"},i={margin:"0 auto",paddingLeft:"20px",fontSize:"13px",float:"left"},s={width:"70px",fontSize:"12px",backgroundColor:"rgb(20,40,73)",textAlign:"center",float:"left",marginLeft:"10%",color:"white",borderRadius:"5px",margin:"0 auto"},c=[];if(null!=t){this.state.isLoading=!1;for(var o=0;o<t.length;o++)if("guardian"==t[o].category){var d,m=t[o].obj.content.blocks.main.elements[0].assets,u=m.length;d=0==u?"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png":m[u-1].file;var h=t[o].obj.content.webTitle,g=t[o].obj.content.webPublicationDate.substring(0,10),p=a(v=t[o].obj.content.sectionId),b=t[o].obj.content.webUrl,f=t[o].obj.content.id,E=n(v);c.push(r.a.createElement("div",{className:"col-sm-3 card-cmp"},r.a.createElement("div",{className:"card",onClick:function(e){return function(){this.linkToGuardian(e,"guardian")}.bind(this)}.bind(this)(f,"guardian")},r.a.createElement("div",{className:"card1-title",style:l},r.a.createElement("b",null,r.a.createElement("i",null,h)),r.a.createElement(Z,{url:b,title:h,category:"GUARDIAN"}),r.a.createElement(X.a,{className:"trash",onClick:function(e){return function(t){this.deleteBookmark(t,e),this.notify(h)}.bind(this)}.bind(this)(o)})),r.a.createElement("img",{className:"card-img-top img-fluid",src:d,alt:"Card image cap"}),r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-text",style:i},r.a.createElement("i",null,g)),r.a.createElement("div",{className:"section",style:E},r.a.createElement("b",null,v.toUpperCase())),r.a.createElement("div",{className:"category",style:s},r.a.createElement("b",null,"GUARDIAN"))))))}else{var k=t[o].obj.docs[0].multimedia;d=0!=Object.keys(k).length?"https://www.nytimes.com/"+t[o].obj.docs[0].multimedia[0].url:"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg";g=t[o].obj.docs[0].pub_date.substring(0,10),p=a(v=t[o].sectionId),b=t[o].obj.docs[0].web_url;var v,y=n(v);c.push(r.a.createElement("div",{className:"col-sm-3 card-cmp"},r.a.createElement("div",{className:"card",onClick:function(e,t){return function(){this.linkToNYT(e,t,"NYT")}.bind(this)}.bind(this)(b,v,"NYT")},r.a.createElement("div",{className:"card1-title",style:l},r.a.createElement("b",null,r.a.createElement("i",null,t[o].obj.docs[0].headline.main)),r.a.createElement(Z,{url:b,title:t[o].obj.docs[0].headline.main,category:"NYTimes"}),r.a.createElement(X.a,{className:"trash",onClick:function(e){return function(a){this.deleteBookmark(a,e),this.notify(t[e].obj.docs[0].headline.main)}.bind(this)}.bind(this)(o)})),r.a.createElement("img",{className:"card-img-top img-fluid",src:d,alt:"Card image cap"}),r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-text",style:i},r.a.createElement("i",null,g)),r.a.createElement("div",{className:"section",style:y},r.a.createElement("b",null,t[o].sectionId)),r.a.createElement("div",{className:"category",style:s},r.a.createElement("b",null,"NYTIMES"))))))}return this.state.showCards?r.a.createElement("div",null,c.length?r.a.createElement("div",null,r.a.createElement("h1",{className:"fav"},"Favorites"),r.a.createElement("div",{className:"container-bk"},r.a.createElement("div",{className:"row"},c))):r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("b",null,r.a.createElement("center",null,"You have no saved articles"))))):r.a.createElement("div",null,this.rendering())}return r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("b",null,r.a.createElement("center",null,"You have no saved articles"))))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={g_results:[],n_results:[],isLoading:!1,error:null,showComponent:!1,showCards:!0},a.linkToGuardian=a.linkToGuardian.bind(Object(m.a)(a)),a.linkToNYT=a.linkToNYT.bind(Object(m.a)(a)),a.renderGuardian=a.renderGuardian.bind(Object(m.a)(a)),a.renderNYT=a.renderNYT.bind(Object(m.a)(a)),a.rendering=a.rendering.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"linkToGuardian",value:function(e,t){localStorage.setItem("id",e),this.setState({showComponent:!0,showCards:!1,category:t})}},{key:"linkToNYT",value:function(e,t,a){localStorage.setItem("id",e),localStorage.setItem("sectionId",t),this.setState({showComponent:!0,showCards:!1,category:a})}},{key:"renderGuardian",value:function(e){this.props.search(!1);var t=localStorage.getItem("id");if(this.state.showComponent)return r.a.createElement(p.a,null,r.a.createElement(b.a,{to:"/article/"+t,href:"/article"}),r.a.createElement(b.b,{path:"/article",render:function(){return r.a.createElement(W,{id:t,category:e})}}))}},{key:"renderNYT",value:function(e){this.props.search(!1);var t=localStorage.getItem("id"),a=localStorage.getItem("sectionId");if(this.state.showComponent)return r.a.createElement(p.a,null,r.a.createElement(b.a,{to:"/article/"+t,href:"/article"}),r.a.createElement(b.b,{path:"/article",render:function(){return r.a.createElement(W,{id:t,sectionId:a,category:e})}}))}},{key:"rendering",value:function(){return"guardian"==this.state.category?this.renderGuardian("guardian"):this.renderNYT("NYT")}},{key:"componentDidMount",value:function(){var e=this;this.props.search(!0),this.setState({isLoading:!0,showCards:!0}),S.a.post("https://usc6352156.wl.r.appspot.com/search-nyt",{id:this.props.selectedResult}).then((function(t){return e.setState({n_results:t.data.response.docs,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})})),S.a.post("http://localhost:4000/search-guardian",{id:this.props.selectedResult}).then((function(t){return e.setState({g_results:t.data.response.results,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e.selectedResult!==this.props.selectedResult&&(this.setState({isLoading:!0}),S.a.post("http://localhost:4000/search-nyt",{id:this.props.selectedResult}).then((function(e){return a.setState({n_results:e.data.response.docs,isLoading:!1,showCards:!0})})).catch((function(e){return a.setState({error:e,isLoading:!1})})),S.a.post("http://localhost:4000/search-guardian",{id:this.props.selectedResult}).then((function(e){return a.setState({g_results:e.data.response.results,isLoading:!1,showCards:!0})})).catch((function(e){return a.setState({error:e,isLoading:!1})})))}},{key:"componentWillUnmount",value:function(){this.props.search(!1),this.setState({showComponent:!1,showCards:!0})}},{key:"render",value:function(){var e=this.state,t=e.g_results,a=e.n_results;function n(e){return"sport"===e||"SPORTS"===e?"rgb(243,191,78)":"business"===e||"BUSINESS"===e?"rgb(80,157,234)":"technology"===e||"TECHNOLOGY"===e?"rgb(206,220,75)":"politics"===e||"POLITICS"===e?"rgb(63,148,137)":"world"===e||"WORLD"===e?"rgb(124,79,251)":"rgb(110,117,124)"}function l(e){return"technology"==e||"sport"==e||"TECHNOLOGY"==e||"SPORTS"==e?{paddingRight:"2%",paddingLeft:"2%",fontSize:"12px",backgroundColor:p,marginRight:"16px",textAlign:"center",float:"right",color:"black",borderRadius:"5px"}:{paddingRight:"2%",paddingLeft:"2%",fontSize:"12px",backgroundColor:p,marginRight:"16px",textAlign:"center",float:"right",color:"white",borderRadius:"5px"}}for(var i={margin:"0 auto",padding:"10px",width:"90%"},s={margin:"0 auto",paddingLeft:"20px",fontSize:"13px",float:"left"},c=[],o=0;o<Math.min(5,t.length);o++){var d,m=t[o].blocks.main.elements[0].assets,u=m.length;d=0==u?"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png":m[u-1].file;var h=t[o].webTitle,g=t[o].webPublicationDate.substring(0,10),p=n(v=t[o].sectionId),b=t[o].webUrl,f=t[o].id,E=l(v);c.push(r.a.createElement("div",{className:"col-sm-3 search"},r.a.createElement("div",{className:"card",onClick:function(e){return function(){this.linkToGuardian(e,"guardian")}.bind(this)}.bind(this)(f,"guardian")},r.a.createElement("div",{className:"card1-title",style:i},r.a.createElement("b",null,r.a.createElement("i",null,h)),r.a.createElement(Z,{url:b,title:h,category:"GUARDIAN"})),r.a.createElement("img",{className:"card-img-top img-fluid",src:d,alt:"Card image cap"}),r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-text",style:s},r.a.createElement("i",null,g)),r.a.createElement("div",{className:"section",style:E},r.a.createElement("b",null,v.toUpperCase()))))))}if(0!=a.length)for(o=0;o<5;o++){var k=a[o].multimedia;d=0!=Object.keys(k).length?"https://www.nytimes.com/"+a[o].multimedia[0].url:"https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg";var v;g=a[o].pub_date.substring(0,10);void 0===(v=a[o].sectionId)&&(v="NONE");p=n(v),b=a[o].web_url;var y=l(v);c.push(r.a.createElement("div",{className:"col-sm-3 search"},r.a.createElement("div",{className:"card",onClick:function(e,t){return function(){this.linkToNYT(e,t,"NYT")}.bind(this)}.bind(this)(b,v,"NYT")},r.a.createElement("div",{className:"card1-title",style:i},r.a.createElement("b",null,r.a.createElement("i",null,a[o].headline.main)),r.a.createElement(Z,{url:b,title:a[o].headline.main,category:"NYTimes"})),r.a.createElement("img",{className:"card-img-top img-fluid",src:d}),r.a.createElement("div",{className:"card-block"},r.a.createElement("div",{className:"card-text",style:s},r.a.createElement("i",null,g)),r.a.createElement("div",{className:"section",style:y},r.a.createElement("b",null,v))))))}return this.state.isLoading?r.a.createElement(A,null):this.state.showCards?r.a.createElement("div",null,c.length?r.a.createElement("div",null,r.a.createElement("h1",{className:"fav"},"Results"),r.a.createElement("div",{className:"container-bk"},r.a.createElement("div",{className:"row"},c))):r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("b",null,r.a.createElement("center",null,"You have no search results"))))):r.a.createElement("div",null,this.rendering())}}]),t}(n.Component),ae=(a(189),a(31)),ne=function(){var e=Object(ae.b)().loginWithRedirect;return r.a.createElement(r.a.Fragment,{className:""},r.a.createElement("div",{className:"log-btn-div"},r.a.createElement("button",{className:"mx-auto rounded-lg border-0 bg-yellow-100 login-btn",onClick:function(){return e()}},"LOG IN")))},re=function(){var e=Object(ae.b)().logout;return r.a.createElement("button",{className:"logout-btn",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")};a(196).config();var le=function(e){function t(){var e,a,n;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(d.a)(t).call(this))).handleSearch=function(t){e.setState({selectedResult:t},(function(){console.log("Option selected:",e.state.selectedResult)}))},n=1==(a=null===JSON.parse(localStorage.getItem("check"))||JSON.parse(localStorage.getItem("check")))?"guardian":"nyt",e.state={checked:a,category:n,switch_visible:!0,bookmarked:!1,selectedResult:null,search_check:!1},e.handleChange=e.handleChange.bind(Object(m.a)(e)),e.changeSwitchStatus=e.changeSwitchStatus.bind(Object(m.a)(e)),e.getAsyncOptions=e.getAsyncOptions.bind(Object(m.a)(e)),e.search=e.search.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"changeSwitchStatus",value:function(e){this.state.switch_visible!=e&&this.setState({switch_visible:!this.state.switch_visible})}},{key:"search",value:function(e){this.state.search_check!=e&&this.setState({search_check:!this.state.search_check})}},{key:"handleChange",value:function(e){var t;localStorage.setItem("check",JSON.stringify(e)),t=e?"guardian":"nyt",this.setState({checked:e,category:t})}},{key:"getAsyncOptions",value:function(e){var t=4;return new Promise((function(a){""==e&&a([]),function n(){var r=this;t-=1;var l=setTimeout((function(){try{console.log("443018acee8c4cd49694411feb558dce"),console.log("amit"),fetch("https://api.bing.microsoft.com/v7.0/suggestions?q="+e,{headers:{"Ocp-Apim-Subscription-Key":"443018acee8c4cd49694411feb558dce"}}).then((function(e){return e.json()})).then((function(e){try{for(var r=e.suggestionGroups[0].searchSuggestions,l=[],i=0;i<r.length;i++)l.push({label:r[i].displayText});a(l)}catch(s){t&&n()}}),(function(e){r.setState({isLoaded:!0,error:e})}))}catch(l){}}),1e3);return function(){return clearTimeout(l)}}()}))}},{key:"render",value:function(){var e=this,t=this.props.auth0;t.user;return t.isAuthenticated?r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("div",{className:"container-fluid pl-0 pr-0"},r.a.createElement(h.a,{variant:"dark",expand:"lg"},this.state.search_check?r.a.createElement("div",{className:"searchbar "},r.a.createElement(k.a,{cacheOptions:!0,defaultOptions:!0,isClearable:!0,className:"basic-single ",classNamePrefix:"select",name:"search",placeholder:"Enter keyword ..",loadOptions:y.a.debounce(this.getAsyncOptions,1e3,{leading:!0}),onChange:this.handleSearch,value:this.state.selectedResult,noOptionsMessage:function(){return"No Match"}})):r.a.createElement(k.a,{cacheOptions:!0,defaultOptions:!0,isClearable:!0,className:"searchbar",classNamePrefix:"select",name:"search",placeholder:"Enter keyword ..",loadOptions:y.a.debounce(this.getAsyncOptions,1e3,{leading:!0}),onChange:this.handleSearch,value:"",noOptionsMessage:function(){return"No Match"}}),r.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},this.state.switch_visible?r.a.createElement(g.a,{className:"mr-auto",defaultActiveKey:"/"},r.a.createElement(g.a.Link,{as:p.b,to:"/",href:"/"},"Home"),r.a.createElement(g.a.Link,{as:p.b,to:"/world",href:"/world"},"World"),r.a.createElement(g.a.Link,{as:p.b,to:"/politics",href:"/politics"},"Politics"),r.a.createElement(g.a.Link,{as:p.b,to:"/business",href:"/business"},"Business"),r.a.createElement(g.a.Link,{as:p.b,to:"/technology",href:"/technology"},"Technology"),r.a.createElement(g.a.Link,{as:p.b,to:"/sports",href:"/sports"},"Sports")):r.a.createElement(g.a,{className:"mr-auto ",defaultActiveKey:"/"},r.a.createElement(g.a.Link,{as:p.b,to:"/",href:"/",active:!1},"Home"),r.a.createElement(g.a.Link,{as:p.b,to:"/world",href:"/world",active:!1},"World"),r.a.createElement(g.a.Link,{as:p.b,to:"/politics",href:"/politics",active:!1},"Politics"),r.a.createElement(g.a.Link,{as:p.b,to:"/business",href:"/business",active:!1},"Business"),r.a.createElement(g.a.Link,{as:p.b,to:"/technology",href:"/technology",active:!1},"Technology"),r.a.createElement(g.a.Link,{as:p.b,to:"/sports",href:"/sports",active:!1},"Sports")),r.a.createElement("div",{className:"bk"},r.a.createElement(p.b,{to:"/favorites/",href:"/favorites","data-tip":"Bookmark","data-effect":"solid","data-for":"global"}),r.a.createElement(f.a,{place:"bottom",id:"global"})),this.state.switch_visible?r.a.createElement("div",null,r.a.createElement("div",{className:"switcher"}),r.a.createElement(re,null),r.a.createElement(h.a.Text,{className:"guard ",style:{color:"white",fontSize:"18px"}},"Guardian")):r.a.createElement("div",null)))),r.a.createElement(N.a,{position:"top-center",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,transition:N.b,pauseOnVisibilityChange:!1,draggable:!1,pauseOnHover:!1}),r.a.createElement(b.b,{exact:!0,path:"/",render:function(){return e.state.bookmarked&&e.setState({bookmarked:!1}),r.a.createElement(Q,Object.assign({},e.state,{category_type:"home",func:e.changeSwitchStatus}))}}),r.a.createElement(b.b,{path:"/world",render:function(){return e.state.bookmarked&&e.setState({bookmarked:!1}),r.a.createElement(Q,Object.assign({},e.state,{category_type:"world",func:e.changeSwitchStatus}))}}),r.a.createElement(b.b,{path:"/politics",render:function(){return e.state.bookmarked&&e.setState({bookmarked:!1}),r.a.createElement(Q,Object.assign({},e.state,{category_type:"politics",func:e.changeSwitchStatus}))}}),r.a.createElement(b.b,{path:"/business",render:function(){return e.state.bookmarked&&e.setState({bookmarked:!1}),r.a.createElement(Q,Object.assign({},e.state,{category_type:"business",func:e.changeSwitchStatus}))}}),r.a.createElement(b.b,{path:"/technology",render:function(){return e.state.bookmarked&&e.setState({bookmarked:!1}),r.a.createElement(Q,Object.assign({},e.state,{category_type:"technology",func:e.changeSwitchStatus}))}}),r.a.createElement(b.b,{path:"/sports",render:function(){return e.state.bookmarked&&e.setState({bookmarked:!1}),r.a.createElement(Q,Object.assign({},e.state,{category_type:"sports",func:e.changeSwitchStatus}))}}),r.a.createElement(b.b,{path:"/favorites",render:function(){return e.state.bookmarked||e.setState({bookmarked:!0}),r.a.createElement(ee,Object.assign({},e.state,{func:e.changeSwitchStatus}))}}),this.state.selectedResult&&r.a.createElement(b.a,{to:"/search?q="+this.state.selectedResult.label,href:"/search?q="}),r.a.createElement(b.b,{path:"/search",render:function(){return e.state.switch_visible&&e.setState({switch_visible:!1}),r.a.createElement(te,Object.assign({},e.state,{search:e.search}))}}))):r.a.createElement(ne,null)}}]),t}(n.Component),ie=Object(ae.c)(le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ae.a,{domain:"dev-ckl80phv.us.auth0.com",clientId:"lfOgtoAb9DJ58B3sV7HpM5wGsNPhwD1p",redirectUri:window.location.origin},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.b232b7a9.chunk.js.map